# tbschedule 项目分析

## 表结构分析

t_escheduler_access_token
后端接口有令牌检查，访问需要带上token

t_escheduler_alert
任务执行过程中告警信息.

t_escheduler_alertgroup
告警组在流程结束以后会将流程信息以邮件形式发送给告警组

t_escheduler_command
command则是由Quartz触发的流程，每个流程定时条件满足后，
写到command表中，有master去查找.

t_escheduler_datasource
连接的数据源定义

t_escheduler_error_command
调度command失败，可能未找到对应的processInstance

t_escheduler_master_server
master节点信息.

t_escheduler_process_definition
流程的定义，每个流程对应于一个DAG

t_escheduler_process_instance
流程实例，流程运行时，为其分配一个实例(processInstance)，
如果是上次运行失败或子流程，回去寻找

t_escheduler_project
项目表。一个项目归某个用户，且单个项目下定义多个流程

t_escheduler_queue
队列是执行spark，mapreduce等程序需要用到"队列"参数时使用的

t_escheduler_relation_datasource_user
用户所对应的数据源

t_escheduler_relation_process_instance
子流程和父流程关系表

t_escheduler_relation_project_user
用户和项目关系表

t_escheduler_relation_resources_user
资源和用户关系。允许用户上传资源文件和udf函数.

t_escheduler_relation_udfs_user

t_escheduler_relation_user_alertgroup
用户与告警组关系

t_escheduler_resources
上传资源文件和udf函数，存放在hdfs上

t_escheduler_schedules
描述流程的调度信息。类似与xxl-job的Info表中调度信息.

t_escheduler_session
用户登录session

t_escheduler_task_instance
任务执行的实例

t_escheduler_tenant
租户对应于Linux的用户，用于worker提交作业所使用的用户

t_escheduler_udfs

t_escheduler_user
用户分为管理员用户和普通用户

t_escheduler_version
版本.

t_escheduler_worker_group
worker分组提供一种让任务在指定的worker上运行的机制

t_escheduler_worker_server
worker服务地址.
